<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bulk Image Tool Web - By Adrian</title>
    <link rel="icon" type="image/x-icon" href="images/icon.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <div class="container">
            <h1>Image Converter</h1>
            <form @submit.prevent="convertImages">
                <label for="fileInput">Select Folder:</label>
                <input type="file" id="fileInput" multiple webkitdirectory @change="onFileChange">
                <label for="formatSelect">Select Format:</label>
                <select id="formatSelect" v-model="selectedFormat">
                    <option value="webp">WebP</option>
                    <option value="png">PNG</option>
                    <option value="jpg">JPG</option>
                </select>
                <label for="dimensionsInput">Canvas Size:</label>
                <input type="text" id="dimensionsInput" placeholder="e.g., 1000x1000" v-model="dimensions">
                <label for="prefixInput">Name Prefix:</label>
                <input type="text" id="prefixInput" v-model="prefix">
                <label for="scaleInput">Scale (%):</label>
                <input type="number" id="scaleInput" min="0" max="1000" value="100" v-model="scale">
                <label for="backgroundColorInput">Background Color:</label>
                <input type="color" id="backgroundColorInput" v-model="backgroundColor">
                <div class="zip-checkbox">
                    <label for="zipCheckbox">Download as ZIP:</label>
                    <input type="checkbox" id="zipCheckbox" v-model="zip">
                </div>
                <div class="watermark-checkbox">
                    <label for="watermarkCheckbox">Add Bash's Music WaterMark:</label>
                    <input type="checkbox" id="watermarkCheckbox" v-model="addWatermark" checked>
                </div>
                <h5>Made By Adrian</h5>
                <button type="submit">Convert</button>
            </form>
            <div id="result">
                <div v-for="(downloadLink, index) in downloadLinks" :key="index">
                    <a :href="downloadLink.url" :download="downloadLink.fileName">{{ downloadLink.text }}</a>
                </div>
                <a v-if="zip && downloadLinks.length > 0" href="#" @click="createZip">Download All as ZIP</a>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.6.0/jszip.min.js"></script>
    <script>
new Vue({
    el: '#app',
    data: {
        files: [],
        selectedFormat: 'webp',
        dimensions: '',
        prefix: '',
        scale: 100,
        backgroundColor: '#ffffff',
        zip: false,
        addWatermark: true,
        downloadLinks: [],
        modifiedImages: [],
        watermarkSVG: `
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="453" height="139">
<path d="M0 0 C1.98 0 3.96 0 6 0 C7.33333333 4 8.66666667 8 10 12 C10.20496094 11.21753906 10.40992188 10.43507813 10.62109375 9.62890625 C10.89050781 8.61699219 11.15992188 7.60507812 11.4375 6.5625 C11.70433594 5.55316406 11.97117188 4.54382812 12.24609375 3.50390625 C13 1 13 1 14 0 C15.98 0 17.96 0 20 0 C20.66 9.9 21.32 19.8 22 30 C19.69 30 17.38 30 15 30 C14.505 25.05 14.505 25.05 14 20 C13.34 21.98 12.68 23.96 12 26 C10.35 25.67 8.7 25.34 7 25 C6.67 23.68 6.34 22.36 6 21 C5.67 23.97 5.34 26.94 5 30 C2.69 30 0.38 30 -2 30 C-1.86001598 26.31225385 -1.71195796 22.62487337 -1.5625 18.9375 C-1.52318359 17.89916016 -1.48386719 16.86082031 -1.44335938 15.79101562 C-1.22333656 10.45969359 -0.8883816 5.26310107 0 0 Z " fill="#121212" transform="translate(148,36)"/>
<path d="M0 0 C2.31 0 4.62 0 7 0 C7.99 3.63 8.98 7.26 10 11 C10.474375 9.55625 10.94875 8.1125 11.4375 6.625 C12.19397017 4.32269949 12.91608814 2.16782371 14 0 C15.98 0 17.96 0 20 0 C21.48962261 2.97924521 21.37857909 6.09992378 21.5625 9.375 C21.6049585 10.0865625 21.64741699 10.798125 21.69116211 11.53125 C22.03398523 17.68965012 22.10512447 23.83269749 22 30 C20.02 30 18.04 30 16 30 C15.34 27.36 14.68 24.72 14 22 C13.67 23.32 13.34 24.64 13 26 C11.35 26 9.7 26 8 26 C7.34 24.02 6.68 22.04 6 20 C5.67 23.3 5.34 26.6 5 30 C3.02 30 1.04 30 -1 30 C-1.1176305 19.93605753 -0.87801178 10.03442033 0 0 Z " fill="#121212" transform="translate(327,36)"/>
<path d="M0 0 C4.95 0 9.9 0 15 0 C18.3621873 3.3621873 18.72893079 4.39182345 19 9 C18.0625 12.375 18.0625 12.375 17 15 C17.66 15.66 18.32 16.32 19 17 C19.66023405 23.7123795 19.58922061 24.26347424 15 30 C10.05 30 5.1 30 0 30 C0 20.1 0 10.2 0 0 Z M7 6 C7 7.98 7 9.96 7 12 C8.65 11.67 10.3 11.34 12 11 C11.67 9.35 11.34 7.7 11 6 C9.68 6 8.36 6 7 6 Z M7 18 C7 20.31 7 22.62 7 25 C8.65 24.67 10.3 24.34 12 24 C12 22.02 12 20.04 12 18 C10.35 18 8.7 18 7 18 Z " fill="#121212" transform="translate(25,36)"/>
<path d="M0 0 C2.31 0 4.62 0 7 0 C7 3.96 7 7.92 7 12 C8.98 12 10.96 12 13 12 C13 8.04 13 4.08 13 0 C15.31 0 17.62 0 20 0 C20 9.9 20 19.8 20 30 C17.69 30 15.38 30 13 30 C13 26.04 13 22.08 13 18 C11.02 18 9.04 18 7 18 C7 21.96 7 25.92 7 30 C4.69 30 2.38 30 0 30 C0 20.1 0 10.2 0 0 Z " fill="#121212" transform="translate(98,36)"/>
<path d="M0 0 C5.22147385 0.08201268 5.22147385 0.08201268 8.25 2.75 C10.46919897 7.08752526 10.81320171 10.41428401 10.875 15.25 C10.90078125 16.45269531 10.9265625 17.65539062 10.953125 18.89453125 C10.50876059 23.69260883 9.03410484 27.02839516 5.625 30.4375 C1.89605486 31.0530719 -1.64918293 31.07684139 -5.375 30.4375 C-10.25159762 25.32868345 -10.66162337 19.81373331 -10.6015625 13.046875 C-9.96951238 5.76740115 -7.86144489 0.17914821 0 0 Z M-1.375 6.4375 C-3.74721047 11.03365778 -3.85022861 15.38362651 -3.375 20.4375 C-2.50846586 23.36830674 -2.50846586 23.36830674 -1.375 25.4375 C0.60991642 25.17073796 0.60991642 25.17073796 2.625 24.4375 C3.69424537 21.22976388 3.79184956 18.80765182 3.8125 15.4375 C3.82667969 14.385625 3.84085937 13.33375 3.85546875 12.25 C3.83680926 9.22991312 3.83680926 9.22991312 1.625 6.4375 C0.635 6.4375 -0.355 6.4375 -1.375 6.4375 Z " fill="#121212" transform="translate(308.375,35.5625)"/>
<path d="M0 0 C2.31 0 4.62 0 7 0 C7.33 7.92 7.66 15.84 8 24 C9.32 23.67 10.64 23.34 12 23 C12.33 15.41 12.66 7.82 13 0 C15.31 0 17.62 0 20 0 C20.05859857 3.35409194 20.09379582 6.70805017 20.125 10.0625 C20.14175781 11.00544922 20.15851563 11.94839844 20.17578125 12.91992188 C20.21363103 18.35136525 19.93669305 22.90094451 18 28 C15.30898766 30.69101234 13.80924054 30.29887549 10.0625 30.3125 C9.00160156 30.32925781 7.94070313 30.34601563 6.84765625 30.36328125 C4 30 4 30 2.18359375 28.66796875 C-0.16189675 25.36260755 -0.11834792 22.36775691 -0.09765625 18.45703125 C-0.09443359 17.38388672 -0.09121094 16.31074219 -0.08789062 15.20507812 C-0.07951172 14.08552734 -0.07113281 12.96597656 -0.0625 11.8125 C-0.05798828 10.68134766 -0.05347656 9.55019531 -0.04882812 8.38476562 C-0.03703498 5.58979073 -0.0205765 2.7949218 0 0 Z " fill="#121212" transform="translate(396,36)"/>
<path d="M0 0 C3.3 0 6.6 0 10 0 C10.83769934 4.43668741 11.6694138 8.87447591 12.5 13.3125 C12.73847656 14.57513672 12.97695313 15.83777344 13.22265625 17.13867188 C13.44824219 18.34716797 13.67382812 19.55566406 13.90625 20.80078125 C14.22045898 22.47394409 14.22045898 22.47394409 14.54101562 24.1809082 C15 27 15 27 15 30 C12.69 30 10.38 30 8 30 C8 28.68 8 27.36 8 26 C6.02 26.33 4.04 26.66 2 27 C1.67 27.99 1.34 28.98 1 30 C-1.31 30 -3.62 30 -6 30 C-5.31021684 26.04828356 -4.61635857 22.09730677 -3.91870117 18.14697266 C-3.68189934 16.80276927 -3.44621575 15.45836839 -3.21166992 14.11376953 C-2.87451914 12.18210225 -2.53302389 10.25119482 -2.19140625 8.3203125 C-1.98717041 7.15773926 -1.78293457 5.99516602 -1.57250977 4.79736328 C-1 2 -1 2 0 0 Z M4 9 C3.67 12.63 3.34 16.26 3 20 C4.32 19.67 5.64 19.34 7 19 C6.34 15.7 5.68 12.4 5 9 C4.67 9 4.34 9 4 9 Z " fill="#121212" transform="translate(375,36)"/>
<path d="M0 0 C3.3 0 6.6 0 10 0 C12.43681777 9.93737743 14.29711279 19.91552608 16 30 C13.69 30 11.38 30 9 30 C8.67 28.68 8.34 27.36 8 26 C6.02 26 4.04 26 2 26 C1.67 27.32 1.34 28.64 1 30 C-0.98 30 -2.96 30 -5 30 C-4.43617776 23.00634512 -3.37639601 16.23899157 -1.9375 9.375 C-1.75123047 8.46621094 -1.56496094 7.55742188 -1.37304688 6.62109375 C-0.91983534 4.4131401 -0.46056576 2.20643133 0 0 Z M5 11 C3.55475116 15.42605006 3.55475116 15.42605006 3 20 C4.32 20 5.64 20 7 20 C6.67 17.03 6.34 14.06 6 11 C5.67 11 5.34 11 5 11 Z " fill="#121212" transform="translate(55,36)"/>
<path d="M0 0 C2.31 0 4.62 0 7 0 C7.33 7.92 7.66 15.84 8 24 C8.99 24 9.98 24 11 24 C12.23060421 21.53879159 12.2057723 19.74223134 12.31640625 16.9921875 C12.35830078 16.00605469 12.40019531 15.01992188 12.44335938 14.00390625 C12.48267578 12.97136719 12.52199219 11.93882813 12.5625 10.875 C12.60568359 9.83472656 12.64886719 8.79445313 12.69335938 7.72265625 C12.7996288 5.14857472 12.90166583 2.57439492 13 0 C14.98 0 16.96 0 19 0 C19.08729047 4.06236402 19.14048992 8.12448589 19.1875 12.1875 C19.21263672 13.33798828 19.23777344 14.48847656 19.26367188 15.67382812 C19.27333984 16.78564453 19.28300781 17.89746094 19.29296875 19.04296875 C19.3086792 20.06414795 19.32438965 21.08532715 19.34057617 22.13745117 C18.94331981 25.47639805 18.03139889 27.33790868 16 30 C13.22265625 30.6640625 13.22265625 30.6640625 10.0625 30.625 C8.50208984 30.64433594 8.50208984 30.64433594 6.91015625 30.6640625 C3.01389188 29.77498204 2.15319073 28.30810209 0 25 C-0.45410156 22.13745117 -0.45410156 22.13745117 -0.390625 19.04296875 C-0.37773437 17.93115234 -0.36484375 16.81933594 -0.3515625 15.67382812 C-0.31804687 14.52333984 -0.28453125 13.37285156 -0.25 12.1875 C-0.23195312 11.01767578 -0.21390625 9.84785156 -0.1953125 8.64257812 C-0.1482644 5.7608822 -0.08253709 2.88086203 0 0 Z " fill="#121212" transform="translate(177,36)"/>
<path d="M0 0 C3.0390625 -0.29296875 3.0390625 -0.29296875 6.625 -0.1875 C7.81351563 -0.16042969 9.00203125 -0.13335937 10.2265625 -0.10546875 C11.14179688 -0.07066406 12.05703125 -0.03585938 13 0 C13 1.98 13 3.96 13 6 C10.69 6.33 8.38 6.66 6 7 C6.5053125 7.845625 7.010625 8.69125 7.53125 9.5625 C14.16424116 21.14391314 14.16424116 21.14391314 13 28 C11 30 11 30 7.9609375 30.1953125 C6.77757812 30.17210938 5.59421875 30.14890625 4.375 30.125 C3.18648437 30.10695313 1.99796875 30.08890625 0.7734375 30.0703125 C-0.14179688 30.04710938 -1.05703125 30.02390625 -2 30 C-2 28.35 -2 26.7 -2 25 C1.96 24.505 1.96 24.505 6 24 C5.4225 22.98679687 4.845 21.97359375 4.25 20.9296875 C3.49933658 19.57849335 2.74937336 18.22691004 2 16.875 C1.6184375 16.20984375 1.236875 15.5446875 0.84375 14.859375 C-1.40097646 10.77076608 -2.66620588 7.7883548 -2 3 C-1.34 2.01 -0.68 1.02 0 0 Z " fill="#121212" transform="translate(205,36)"/>
<path d="M0 0 C3.0390625 -0.29296875 3.0390625 -0.29296875 6.625 -0.1875 C7.81351563 -0.16042969 9.00203125 -0.13335937 10.2265625 -0.10546875 C11.14179687 -0.07066406 12.05703125 -0.03585938 13 0 C13 1.98 13 3.96 13 6 C10.69 6.33 8.38 6.66 6 7 C6.5053125 7.845625 7.010625 8.69125 7.53125 9.5625 C14.16424116 21.14391314 14.16424116 21.14391314 13 28 C11 30 11 30 7.9609375 30.1953125 C6.77757813 30.17210938 5.59421875 30.14890625 4.375 30.125 C3.18648438 30.10695313 1.99796875 30.08890625 0.7734375 30.0703125 C-0.14179687 30.04710938 -1.05703125 30.02390625 -2 30 C-2 28.35 -2 26.7 -2 25 C1.96 24.505 1.96 24.505 6 24 C5.4225 22.98679687 4.845 21.97359375 4.25 20.9296875 C3.49933658 19.57849335 2.74937336 18.22691004 2 16.875 C1.6184375 16.20984375 1.236875 15.5446875 0.84375 14.859375 C-1.40097646 10.77076608 -2.66620588 7.7883548 -2 3 C-1.34 2.01 -0.68 1.02 0 0 Z " fill="#121212" transform="translate(78,36)"/>
<path d="M0 0 C1.61841797 0.08701172 1.61841797 0.08701172 3.26953125 0.17578125 C4.35621094 0.22089844 5.44289062 0.26601563 6.5625 0.3125 C7.39394531 0.37050781 8.22539062 0.42851563 9.08203125 0.48828125 C9.08203125 2.46828125 9.08203125 4.44828125 9.08203125 6.48828125 C6.77203125 6.48828125 4.46203125 6.48828125 2.08203125 6.48828125 C2.65953125 7.50148438 3.23703125 8.5146875 3.83203125 9.55859375 C4.58269467 10.9097879 5.33265789 12.26137121 6.08203125 13.61328125 C6.46359375 14.2784375 6.84515625 14.94359375 7.23828125 15.62890625 C9.48300771 19.71751517 10.74823713 22.69992645 10.08203125 27.48828125 C9.42203125 28.47828125 8.76203125 29.46828125 8.08203125 30.48828125 C5.04296875 30.78125 5.04296875 30.78125 1.45703125 30.67578125 C0.26851562 30.64871094 -0.92 30.62164062 -2.14453125 30.59375 C-3.05976562 30.55894531 -3.975 30.52414063 -4.91796875 30.48828125 C-4.91796875 28.83828125 -4.91796875 27.18828125 -4.91796875 25.48828125 C-2.27796875 25.48828125 0.36203125 25.48828125 3.08203125 25.48828125 C2.51613281 24.46347656 1.95023438 23.43867187 1.3671875 22.3828125 C0.62595584 21.022324 -0.11491039 19.66163636 -0.85546875 18.30078125 C-1.22865234 17.62724609 -1.60183594 16.95371094 -1.98632812 16.25976562 C-5.82515111 9.17004749 -5.82515111 9.17004749 -5.91796875 5.48828125 C-4.53822876 1.82094262 -3.94149225 0.65955359 0 0 Z " fill="#121212" transform="translate(129.91796875,35.51171875)"/>
<path d="M0 0 C1.07894531 0.04640625 2.15789062 0.0928125 3.26953125 0.140625 C4.35621094 0.17671875 5.44289063 0.2128125 6.5625 0.25 C7.39394531 0.29640625 8.22539062 0.3428125 9.08203125 0.390625 C9.08203125 2.370625 9.08203125 4.350625 9.08203125 6.390625 C6.00585938 6.68359375 6.00585938 6.68359375 2.9296875 6.9765625 C2.31996094 7.11320312 1.71023438 7.24984375 1.08203125 7.390625 C-0.26916024 10.09300798 -0.05034003 12.25076946 -0.04296875 15.265625 C-0.04554688 16.31492187 -0.048125 17.36421875 -0.05078125 18.4453125 C0.06204461 20.94739185 0.35694363 23.00819423 1.08203125 25.390625 C3.72203125 25.390625 6.36203125 25.390625 9.08203125 25.390625 C9.08203125 27.040625 9.08203125 28.690625 9.08203125 30.390625 C4.79203125 30.390625 0.50203125 30.390625 -3.91796875 30.390625 C-7.49474128 24.04473825 -9.95740637 18.32597003 -8.40625 10.9609375 C-5.22695675 0.69972647 -5.22695675 0.69972647 0 0 Z " fill="#121212" transform="translate(283.91796875,35.609375)"/>
<path d="M0 0 C0.99386719 0.02707031 1.98773438 0.05414063 3.01171875 0.08203125 C4.15060547 0.13423828 4.15060547 0.13423828 5.3125 0.1875 C5.3125 2.1675 5.3125 4.1475 5.3125 6.1875 C2.6725 6.1875 0.0325 6.1875 -2.6875 6.1875 C-4.23982315 12.39679258 -4.60130589 18.35988822 -1.6875 24.1875 C0.6225 24.5175 2.9325 24.8475 5.3125 25.1875 C5.3125 26.8375 5.3125 28.4875 5.3125 30.1875 C1.25714947 30.53182221 -2.64404345 30.72052556 -6.6875 30.1875 C-11.59711388 25.04953198 -11.97307513 19.77961421 -11.91015625 12.984375 C-11.5502393 8.46331298 -10.1706471 5.17584409 -7.4375 1.51171875 C-4.93825906 -0.37944794 -3.08899746 -0.10902344 0 0 Z " fill="#121212" transform="translate(250.6875,35.8125)"/>
<path d="M0 0 C2.31 0 4.62 0 7 0 C7 9.9 7 19.8 7 30 C4.69 30 2.38 30 0 30 C0 20.1 0 10.2 0 0 Z " fill="#121212" transform="translate(225,36)"/>
<path d="M0 0 C1.32 0 2.64 0 4 0 C4.99 2.31 5.98 4.62 7 7 C8.32 4.69 9.64 2.38 11 0 C12.32 0 13.64 0 15 0 C15 4.62 15 9.24 15 14 C13.68 14 12.36 14 11 14 C10.67 13.34 10.34 12.68 10 12 C9.67 12.66 9.34 13.32 9 14 C7.0625 13.625 7.0625 13.625 5 13 C4.67 12.34 4.34 11.68 4 11 C3.67 11.99 3.34 12.98 3 14 C2.01 14 1.02 14 0 14 C0 9.38 0 4.76 0 0 Z " fill="#855987" transform="translate(243,83)"/>
<path d="M0 0 C1.32 0 2.64 0 4 0 C4.99 2.31 5.98 4.62 7 7 C8.32 4.69 9.64 2.38 11 0 C12.32 0 13.64 0 15 0 C15 4.62 15 9.24 15 14 C13.68 14 12.36 14 11 14 C10.67 13.34 10.34 12.68 10 12 C9.67 12.66 9.34 13.32 9 14 C7.0625 13.625 7.0625 13.625 5 13 C4.67 12.34 4.34 11.68 4 11 C3.67 11.99 3.34 12.98 3 14 C2.01 14 1.02 14 0 14 C0 9.38 0 4.76 0 0 Z " fill="#5E58A6" transform="translate(358,83)"/>
<path d="M0 0 C4.29425875 1.07356469 4.74740471 1.5084773 7 5 C7.66 3.35 8.32 1.7 9 0 C9.99 0 10.98 0 12 0 C12 4.62 12 9.24 12 14 C10.68 14 9.36 14 8 14 C6.25 11.5 6.25 11.5 5 9 C4.67 10.65 4.34 12.3 4 14 C2.68 14 1.36 14 0 14 C0 9.38 0 4.76 0 0 Z " fill="#B8595F" transform="translate(92,83)"/>
<path d="M0 0 C1.52519276 0.08937803 3.04681929 0.24537146 4.5625 0.4375 C5.80193359 0.59025391 5.80193359 0.59025391 7.06640625 0.74609375 C7.70449219 0.82988281 8.34257812 0.91367188 9 1 C9.98248196 5.05273808 10.16017882 8.83535074 10 13 C9 14 9 14 6.71484375 14.09765625 C5.34005859 14.08025391 5.34005859 14.08025391 3.9375 14.0625 C3.01839844 14.05347656 2.09929687 14.04445313 1.15234375 14.03515625 C0.44207031 14.02355469 -0.26820313 14.01195313 -1 14 C-1.02685938 11.85423363 -1.04633088 9.70837355 -1.0625 7.5625 C-1.07410156 6.36753906 -1.08570313 5.17257813 -1.09765625 3.94140625 C-1 1 -1 1 0 0 Z M3 4 C3 4.66 3 5.32 3 6 C3.99 6 4.98 6 6 6 C6 5.34 6 4.68 6 4 C5.01 4 4.02 4 3 4 Z M3 9 C3 9.66 3 10.32 3 11 C4.32 10.67 5.64 10.34 7 10 C5.68 9.67 4.36 9.34 3 9 Z " fill="#765994" transform="translate(292,83)"/>
<path d="M0 0 C7.875 0 7.875 0 11 3 C10.814375 4.0725 10.62875 5.145 10.4375 6.25 C10.0695432 9.40391546 9.95534657 11.09818492 11 14 C9.68 14 8.36 14 7 14 C6.34 13.01 5.68 12.02 5 11 C4.67 11.99 4.34 12.98 4 14 C2.68 14 1.36 14 0 14 C0 9.38 0 4.76 0 0 Z M4 4 C4 4.99 4 5.98 4 7 C4.99 6.67 5.98 6.34 7 6 C7 5.34 7 4.68 7 4 C6.01 4 5.02 4 4 4 Z " fill="#9C5975" transform="translate(178,83)"/>
<path d="M0 0 C7.875 0 7.875 0 11 3 C10.814375 4.0725 10.62875 5.145 10.4375 6.25 C10.0695432 9.40391546 9.95534657 11.09818492 11 14 C9.68 14 8.36 14 7 14 C6.34 13.01 5.68 12.02 5 11 C4.67 11.99 4.34 12.98 4 14 C2.68 14 1.36 14 0 14 C0 9.38 0 4.76 0 0 Z M4 4 C4 4.99 4 5.98 4 7 C4.99 6.67 5.98 6.34 7 6 C7 5.34 7 4.68 7 4 C6.01 4 5.02 4 4 4 Z " fill="#A15971" transform="translate(162,83)"/>
<path d="M0 0 C1.32 0.33 2.64 0.66 4 1 C4 2.65 4 4.3 4 6 C5.32 6 6.64 6 8 6 C8 4.35 8 2.7 8 1 C9.32 0.67 10.64 0.34 12 0 C12 4.62 12 9.24 12 14 C10.68 14 9.36 14 8 14 C8 12.35 8 10.7 8 9 C6.68 9 5.36 9 4 9 C4 10.65 4 12.3 4 14 C2.68 14 1.36 14 0 14 C0 9.38 0 4.76 0 0 Z " fill="#985979" transform="translate(190,83)"/>
<path d="M0 0 C4.35653019 1.39038198 4.35653019 1.39038198 5.9375 3.9375 C6.4375 6.8125 6.4375 6.8125 5.9375 9.9375 C3.8125 12.875 3.8125 12.875 0.9375 14.9375 C-2.25 14.9375 -2.25 14.9375 -5.0625 13.9375 C-7.54288907 10.2169164 -7.52587203 8.33953429 -7.0625 3.9375 C-4.8988567 0.608818 -4.00217367 -0.08167701 0 0 Z M-3.0625 3.9375 C-3.75409401 5.78475052 -3.75409401 5.78475052 -4.0625 7.9375 C-3.0725 9.4225 -3.0725 9.4225 -2.0625 10.9375 C-0.7425 10.6075 0.5775 10.2775 1.9375 9.9375 C1.9375 8.2875 1.9375 6.6375 1.9375 4.9375 C0.2875 4.6075 -1.3625 4.2775 -3.0625 3.9375 Z " fill="#AA596A" transform="translate(142.0625,83.0625)"/>
<path d="M0 0 C1.32 0 2.64 0 4 0 C4 3.63 4 7.26 4 11 C5.32 11 6.64 11 8 11 C8 7.37 8 3.74 8 0 C9.32 0 10.64 0 12 0 C12.10807131 1.93627769 12.1856225 3.87427756 12.25 5.8125 C12.29640625 6.89144531 12.3428125 7.97039062 12.390625 9.08203125 C12 12 12 12 10.1796875 13.89453125 C7.09128562 15.46087127 5.25704162 14.99127354 2 14 C-0.28062828 10.57905758 -0.21925007 9.31812778 -0.125 5.3125 C-0.10695313 4.31863281 -0.08890625 3.32476562 -0.0703125 2.30078125 C-0.04710937 1.54152344 -0.02390625 0.78226562 0 0 Z " fill="#5958A9" transform="translate(374,83)"/>
<path d="M0 0 C1.32 0.33 2.64 0.66 4 1 C4 4.3 4 7.6 4 11 C5.32 11 6.64 11 8 11 C8 7.37 8 3.74 8 0 C9.32 0 10.64 0 12 0 C12.61785886 9.9543927 12.61785886 9.9543927 10.375 13.75 C7.15959814 15.44231677 5.42571325 15.04260838 2 14 C0 12 0 12 -0.1953125 9.1796875 C-0.17210937 8.08914062 -0.14890625 6.99859375 -0.125 5.875 C-0.10695312 4.77929688 -0.08890625 3.68359375 -0.0703125 2.5546875 C-0.04710937 1.71164063 -0.02390625 0.86859375 0 0 Z " fill="#A5596E" transform="translate(149,83)"/>
<path d="M0 0 C0.928125 0.20625 1.85625 0.4125 2.8125 0.625 C3.1425 1.945 3.4725 3.265 3.8125 4.625 C1.8325 4.625 -0.1475 4.625 -2.1875 4.625 C-1.383125 4.934375 -0.57875 5.24375 0.25 5.5625 C2.8125 6.625 2.8125 6.625 3.8125 7.625 C3.85313832 9.29117115 3.855221 10.95888095 3.8125 12.625 C1.05325815 14.42911967 -0.07722103 14.6377245 -3.4375 14.25 C-4.79875 13.940625 -4.79875 13.940625 -6.1875 13.625 C-7.1023019 9.39404119 -7.66291682 5.78299287 -6.1875 1.625 C-3.1875 -0.375 -3.1875 -0.375 0 0 Z M-4.1875 8.625 C-3.8575 9.285 -3.5275 9.945 -3.1875 10.625 C-2.1975 10.625 -1.2075 10.625 -0.1875 10.625 C-0.1875 9.965 -0.1875 9.305 -0.1875 8.625 C-1.5075 8.625 -2.8275 8.625 -4.1875 8.625 Z " fill="#5457AC" transform="translate(394.1875,83.375)"/>
<path d="M0 0 C0.928125 0.20625 1.85625 0.4125 2.8125 0.625 C3.1425 1.945 3.4725 3.265 3.8125 4.625 C2.1625 4.625 0.5125 4.625 -1.1875 4.625 C-0.383125 4.8725 0.42125 5.12 1.25 5.375 C3.8125 6.625 3.8125 6.625 4.875 8.5 C4.8125 10.625 4.8125 10.625 3.25 12.9375 C0.8125 14.625 0.8125 14.625 -2.3125 14.6875 C-5.1875 13.625 -5.1875 13.625 -6.5625 11.0625 C-6.76875 10.258125 -6.975 9.45375 -7.1875 8.625 C-6.5275 8.295 -5.8675 7.965 -5.1875 7.625 C-5.5175 7.295 -5.8475 6.965 -6.1875 6.625 C-6.4375 4.1875 -6.4375 4.1875 -6.1875 1.625 C-3.1875 -0.375 -3.1875 -0.375 0 0 Z M-3.1875 8.625 C-3.1875 9.285 -3.1875 9.945 -3.1875 10.625 C-1.8675 10.295 -0.5475 9.965 0.8125 9.625 C-0.5075 9.295 -1.8275 8.965 -3.1875 8.625 Z " fill="#6458A1" transform="translate(348.1875,83.375)"/>
<path d="M0 0 C1.36125 0.37125 1.36125 0.37125 2.75 0.75 C3.08 2.07 3.41 3.39 3.75 4.75 C1.77 4.75 -0.21 4.75 -2.25 4.75 C-1.445625 5.059375 -0.64125 5.36875 0.1875 5.6875 C2.75 6.75 2.75 6.75 3.75 7.75 C4 10.1875 4 10.1875 3.75 12.75 C0.75 14.75 0.75 14.75 -2.3125 14.5 C-5.25 13.75 -5.25 13.75 -7.25 11.75 C-7.25 10.76 -7.25 9.77 -7.25 8.75 C-4.94 9.08 -2.63 9.41 -0.25 9.75 C-1.7040625 9.1003125 -1.7040625 9.1003125 -3.1875 8.4375 C-6.25 6.75 -6.25 6.75 -7.25 3.75 C-4.05 -0.31153846 -4.05 -0.31153846 0 0 Z " fill="#6D589A" transform="translate(323.25,83.25)"/>
<path d="M0 0 C1.32 0 2.64 0 4 0 C4 1.98 4 3.96 4 6 C5.65 6 7.3 6 9 6 C9 4.02 9 2.04 9 0 C9.99 0 10.98 0 12 0 C12 4.62 12 9.24 12 14 C11.01 14 10.02 14 9 14 C9 12.35 9 10.7 9 9 C7.35 9 5.7 9 4 9 C4 10.65 4 12.3 4 14 C2.68 14 1.36 14 0 14 C0 9.38 0 4.76 0 0 Z " fill="#69589D" transform="translate(328,83)"/>
<path d="M0 0 C1.32 0 2.64 0 4 0 C4 1.98 4 3.96 4 6 C5.65 6 7.3 6 9 6 C9 4.02 9 2.04 9 0 C9.99 0 10.98 0 12 0 C12 4.62 12 9.24 12 14 C11.01 14 10.02 14 9 14 C9 12.35 9 10.7 9 9 C7.35 9 5.7 9 4 9 C4 10.65 4 12.3 4 14 C2.68 14 1.36 14 0 14 C0 9.38 0 4.76 0 0 Z " fill="#8A5984" transform="translate(229,83)"/>
<path d="M0 0 C0.66 1.65 1.32 3.3 2 5 C-0.64 4.67 -3.28 4.34 -6 4 C-6 5.65 -6 7.3 -6 9 C-3.36 8.67 -0.72 8.34 2 8 C-0.30582524 12.73300971 -0.30582524 12.73300971 -3.4375 13.9375 C-6.30114362 14.00734497 -7.64549957 13.59769672 -10 12 C-11.54586876 8.90826248 -11.29359521 6.40570448 -11 3 C-7.9816718 -1.82932511 -5.20382316 -1.20088227 0 0 Z " fill="#4F57B1" transform="translate(415,84)"/>
<path d="M0 0 C1.44375 0.12375 2.8875 0.2475 4.375 0.375 C5.59316406 0.47941406 5.59316406 0.47941406 6.8359375 0.5859375 C9 1 9 1 11 3 C11.46376812 10.30434783 11.46376812 10.30434783 9 14 C5.96133201 14.41137202 3.07840297 14.13193156 0 14 C0 9.38 0 4.76 0 0 Z M3 4 C3 6.31 3 8.62 3 11 C4.32 11 5.64 11 7 11 C8.00217064 7.41672247 8.00217064 7.41672247 7 4 C5.68 4 4.36 4 3 4 Z " fill="#B45963" transform="translate(106,83)"/>
<path d="M0 0 C2.35546875 0.16015625 2.35546875 0.16015625 5 1 C6.36328125 3.43359375 6.36328125 3.43359375 7.3125 6.4375 C7.63863281 7.42621094 7.96476562 8.41492188 8.30078125 9.43359375 C9 12 9 12 9 14 C7.68 14 6.36 14 5 14 C4.67 13.34 4.34 12.68 4 12 C1.97536745 11.34786708 1.97536745 11.34786708 0 11 C0 11.99 0 12.98 0 14 C-1.32 14 -2.64 14 -4 14 C-3.36843005 8.94744036 -1.86540627 4.70406799 0 0 Z M2 6 C3 8 3 8 3 8 Z " fill="#715897" transform="translate(307,83)"/>
<path d="M0 0 C2.35546875 0.16015625 2.35546875 0.16015625 5 1 C6.36328125 3.43359375 6.36328125 3.43359375 7.3125 6.4375 C7.63863281 7.42621094 7.96476562 8.41492188 8.30078125 9.43359375 C9 12 9 12 9 14 C7.68 14 6.36 14 5 14 C4.67 13.34 4.34 12.68 4 12 C1.97536745 11.34786708 1.97536745 11.34786708 0 11 C0 11.99 0 12.98 0 14 C-1.32 14 -2.64 14 -4 14 C-3.52188823 12.22888156 -3.0424722 10.45811517 -2.5625 8.6875 C-2.29566406 7.70136719 -2.02882813 6.71523437 -1.75390625 5.69921875 C-1.21920575 3.78482474 -0.62855462 1.88566385 0 0 Z M2 6 C3 8 3 8 3 8 Z " fill="#7F588C" transform="translate(267,83)"/>
<path d="M0 0 C1.875 0.3125 1.875 0.3125 4 1 C4.66 1.99 5.32 2.98 6 4 C6.4125 3.34 6.825 2.68 7.25 2 C7.8275 1.34 8.405 0.68 9 0 C10.32 0 11.64 0 13 0 C12.731875 0.639375 12.46375 1.27875 12.1875 1.9375 C10.64635858 5.91202261 9.32390688 9.94884495 8 14 C6.68 14 5.36 14 4 14 C3.54427083 12.01432292 3.08854167 10.02864583 2.6328125 8.04296875 C2.01992277 5.72257026 2.01992277 5.72257026 0 3 C0 2.01 0 1.02 0 0 Z " fill="#93597D" transform="translate(203,83)"/>
<path d="M0 0 C2.97 0 5.94 0 9 0 C9 1.32 9 2.64 9 4 C7.02 4 5.04 4 3 4 C3 4.66 3 5.32 3 6 C4.98 6 6.96 6 9 6 C9 6.99 9 7.98 9 9 C7.02 9 5.04 9 3 9 C3 10.65 3 12.3 3 14 C2.01 14 1.02 14 0 14 C0 9.38 0 4.76 0 0 Z " fill="#BF5A5B" transform="translate(77,83)"/>
<path d="M0 0 C1.32 0 2.64 0 4 0 C5.75 2 5.75 2 7 4 C7.66 2.68 8.32 1.36 9 0 C10.32 0 11.64 0 13 0 C11.94124926 3.40312738 10.99097846 6.01353231 9 9 C8.61500109 10.65549531 8.27206865 12.3222433 8 14 C7.01 14 6.02 14 5 14 C4.731875 12.948125 4.46375 11.89625 4.1875 10.8125 C3.12838692 7.41218959 1.87464985 4.9823975 0 2 C0 1.34 0 0.68 0 0 Z " fill="#AE5967" transform="translate(122,83)"/>
<path d="M0 0 C3.63 0 7.26 0 11 0 C11 1.32 11 2.64 11 4 C9.68 4 8.36 4 7 4 C7 7.3 7 10.6 7 14 C6.01 14 5.02 14 4 14 C4 10.7 4 7.4 4 4 C2.68 4 1.36 4 0 4 C0 2.68 0 1.36 0 0 Z " fill="#7C598F" transform="translate(275,83)"/>
<path d="M0 0 C3.63 0 7.26 0 11 0 C11 1.32 11 2.64 11 4 C9.68 4 8.36 4 7 4 C7 7.3 7 10.6 7 14 C6.01 14 5.02 14 4 14 C4 10.7 4 7.4 4 4 C2.68 4 1.36 4 0 4 C0 2.68 0 1.36 0 0 Z " fill="#8F5981" transform="translate(217,83)"/>
<path d="M0 0 C1.32 0 2.64 0 4 0 C4 4.62 4 9.24 4 14 C2.68 14 1.36 14 0 14 C0 9.38 0 4.76 0 0 Z " fill="#5257AE" transform="translate(399,83)"/>
<path d="M0 0 C1.32 0 2.64 0 4 0 C4 4.62 4 9.24 4 14 C2.68 14 1.36 14 0 14 C0 9.38 0 4.76 0 0 Z " fill="#BC595D" transform="translate(87,83)"/>
<path d="M0 0 C2.31 0 4.62 0 7 0 C7 2.31 7 4.62 7 7 C4.69 7 2.38 7 0 7 C0 4.69 0 2.38 0 0 Z " fill="#121212" transform="translate(356,59)"/>
<path d="M0 0 C2.31 0 4.62 0 7 0 C7 2.31 7 4.62 7 7 C4.69 7 2.38 7 0 7 C0 4.69 0 2.38 0 0 Z " fill="#121212" transform="translate(263,59)"/>
</svg>`
    },
    methods: {
        onFileChange(event) {
            this.files = Array.from(event.target.files);
        },
        convertImages() {
            if (this.files.length === 0) {
                alert('Please select a folder containing images.');
                return;
            }

            const dimensionsArray = this.dimensions.split('x');
            const canvasWidth = parseInt(dimensionsArray[0]);
            const canvasHeight = parseInt(dimensionsArray[1]);

            if (isNaN(canvasWidth) || isNaN(canvasHeight)) {
                alert('Invalid dimensions. Please enter in the format "width x height".');
                return;
            }

            if (isNaN(parseInt(this.scale)) || parseInt(this.scale) <= 0) {
                alert('Invalid scale. Please enter a number greater than 0.');
                return;
            }

            this.downloadLinks = [];
            this.modifiedImages = [];

            this.files.forEach(file => {
                const reader = new FileReader();
                reader.onload = () => {
                    const img = new Image();
                    img.src = reader.result;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');

                        const imgAspectRatio = img.width / img.height;
                        const canvasAspectRatio = canvasWidth / canvasHeight;

                        let drawWidth, drawHeight;

                        if (imgAspectRatio > canvasAspectRatio) {
                            drawWidth = canvasWidth;
                            drawHeight = canvasWidth / imgAspectRatio;
                        } else {
                            drawHeight = canvasHeight;
                            drawWidth = canvasHeight * imgAspectRatio;
                        }

                        const scaleFactor = this.scale / 100;
                        drawWidth *= scaleFactor;
                        drawHeight *= scaleFactor;

                        const offsetX = (canvasWidth - drawWidth) / 2;
                        const offsetY = (canvasHeight - drawHeight) / 2;

                        canvas.width = canvasWidth;
                        canvas.height = canvasHeight;

                        ctx.fillStyle = this.backgroundColor;
                        ctx.fillRect(0, 0, canvas.width, canvas.height);

                        ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);

                        if (this.addWatermark) {
                            const watermark = new Image();
                            const svgBlob = new Blob([this.watermarkSVG], { type: 'image/svg+xml;charset=utf-8' });
                            const url = URL.createObjectURL(svgBlob);
                            watermark.onload = () => {
                                // Draw the SVG at its original aspect ratio
                                const wmWidth = watermark.width;
                                const wmHeight = watermark.height;
                                const wmX = canvas.width - wmWidth - 10;
                                const wmY = canvas.height - wmHeight - 10;
                                ctx.drawImage(watermark, wmX, wmY);
                                URL.revokeObjectURL(url);
                                this.processCanvasBlob(canvas, file);
                            };
                            watermark.src = url;
                            watermark.onerror = () => {
                                alert('Failed to load watermark image.');
                                this.processCanvasBlob(canvas, file);
                            };
                        } else {
                            this.processCanvasBlob(canvas, file);
                        }
                    };
                };
                reader.readAsDataURL(file);
            });
        },
        processCanvasBlob(canvas, file) {
            canvas.toBlob(blob => {
                const modifiedFileName = this.prefix + file.name.replace(/\.[^/.]+$/, '') + '.' + this.selectedFormat;
                const downloadLink = document.createElement('a');
                downloadLink.href = URL.createObjectURL(blob);
                downloadLink.download = modifiedFileName;
                downloadLink.textContent = 'Download ' + modifiedFileName;

                this.modifiedImages.push({ fileName: modifiedFileName, blob: blob });
                this.downloadLinks.push({ url: downloadLink.href, fileName: modifiedFileName, text: downloadLink.textContent });
            }, 'image/' + this.selectedFormat);
        },
        createZip() {
            if (this.zip && this.modifiedImages.length > 0) {
                const zip = new JSZip();
                const promises = this.modifiedImages.map(image => {
                    zip.file(image.fileName, image.blob);
                });

                Promise.all(promises).then(() => {
                    zip.generateAsync({ type: 'blob' }).then(content => {
                        const downloadLink = document.createElement('a');
                        downloadLink.href = URL.createObjectURL(content);
                        downloadLink.download = 'images.zip';
                        downloadLink.click();
                    });
                });
            }
        }
    }
});

    </script>
</body>
</html>
